
> teacher-observation@1.0.0 dev
> next dev --turbopack

 ⚠ Warning: Found multiple lockfiles. Selecting /Users/user/pnpm-lock.yaml.
   Consider removing the lockfiles at:
   * /Users/user/Desktop/apps/MENTOR/package-lock.json

   ▲ Next.js 15.4.4 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://192.168.0.112:3000
   - Environments: .env

 ✓ Starting...
 ✓ Ready in 3.1s
 ⚠ Webpack is configured while Turbopack is not, which may cause problems.
 ⚠ See instructions if you need to configure Turbopack:
  https://nextjs.org/docs/app/api-reference/next-config-js/turbopack

 ○ Compiling /api/auth/login ...
 ✓ Compiled /api/auth/login in 1994ms
prisma:query SELECT "public"."users"."id", "public"."users"."email", "public"."users"."password", "public"."users"."name", "public"."users"."role", "public"."users"."auth_provider", "public"."users"."telegram_id", "public"."users"."telegram_username", "public"."users"."telegram_photo_url", "public"."users"."is_active", "public"."users"."created_at", "public"."users"."updated_at", "public"."users"."school_id" FROM "public"."users" WHERE ("public"."users"."email" = $1 AND 1=1) LIMIT $2 OFFSET $3
 POST /api/auth/login 200 in 2846ms
 ✓ Compiled /api/observations/[id] in 215ms
prisma:query SELECT 1
prisma:query SELECT "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."role" FROM "public"."users" WHERE ("public"."users"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."inspection_sessions"."id", "public"."inspection_sessions"."province", "public"."inspection_sessions"."district", "public"."inspection_sessions"."commune", "public"."inspection_sessions"."village", "public"."inspection_sessions"."cluster", "public"."inspection_sessions"."school", "public"."inspection_sessions"."name_of_teacher", "public"."inspection_sessions"."sex", "public"."inspection_sessions"."employment_type", "public"."inspection_sessions"."session_time", "public"."inspection_sessions"."subject", "public"."inspection_sessions"."chapter", "public"."inspection_sessions"."lesson", "public"."inspection_sessions"."title", "public"."inspection_sessions"."sub_title", "public"."inspection_sessions"."inspection_date", "public"."inspection_sessions"."start_time", "public"."inspection_sessions"."end_time", "public"."inspection_sessions"."grade", "public"."inspection_sessions"."total_male", "public"."inspection_sessions"."total_female", "public"."inspection_sessions"."total_absent", "public"."inspection_sessions"."total_absent_female", "public"."inspection_sessions"."level", "public"."inspection_sessions"."inspector_name", "public"."inspection_sessions"."inspector_position", "public"."inspection_sessions"."inspector_organization", "public"."inspection_sessions"."academic_year", "public"."inspection_sessions"."semester", "public"."inspection_sessions"."lesson_duration_minutes", "public"."inspection_sessions"."inspection_status", "public"."inspection_sessions"."general_notes", "public"."inspection_sessions"."created_at", "public"."inspection_sessions"."updated_at", "public"."inspection_sessions"."created_by", "public"."inspection_sessions"."is_active", "public"."inspection_sessions"."user_id" FROM "public"."inspection_sessions" WHERE ("public"."inspection_sessions"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
PUT /api/observations/[id] - Request data keys: [ 'sessionInfo', 'evaluationData', 'studentAssessment' ]
prisma:query UPDATE "public"."inspection_sessions" SET "province" = $1, "district" = $2, "commune" = $3, "village" = $4, "school" = $5, "name_of_teacher" = $6, "sex" = $7, "employment_type" = $8, "session_time" = $9, "subject" = $10, "chapter" = $11, "lesson" = $12, "title" = $13, "sub_title" = $14, "grade" = $15, "total_male" = $16, "total_female" = $17, "total_absent" = $18, "total_absent_female" = $19, "academic_year" = $20, "semester" = $21, "lesson_duration_minutes" = $22, "general_notes" = $23, "inspection_date" = $24, "start_time" = $25, "end_time" = $26, "updated_at" = $27 WHERE ("public"."inspection_sessions"."id" = $28 AND 1=1) RETURNING "public"."inspection_sessions"."id", "public"."inspection_sessions"."province", "public"."inspection_sessions"."district", "public"."inspection_sessions"."commune", "public"."inspection_sessions"."village", "public"."inspection_sessions"."cluster", "public"."inspection_sessions"."school", "public"."inspection_sessions"."name_of_teacher", "public"."inspection_sessions"."sex", "public"."inspection_sessions"."employment_type", "public"."inspection_sessions"."session_time", "public"."inspection_sessions"."subject", "public"."inspection_sessions"."chapter", "public"."inspection_sessions"."lesson", "public"."inspection_sessions"."title", "public"."inspection_sessions"."sub_title", "public"."inspection_sessions"."inspection_date", "public"."inspection_sessions"."start_time", "public"."inspection_sessions"."end_time", "public"."inspection_sessions"."grade", "public"."inspection_sessions"."total_male", "public"."inspection_sessions"."total_female", "public"."inspection_sessions"."total_absent", "public"."inspection_sessions"."total_absent_female", "public"."inspection_sessions"."level", "public"."inspection_sessions"."inspector_name", "public"."inspection_sessions"."inspector_position", "public"."inspection_sessions"."inspector_organization", "public"."inspection_sessions"."academic_year", "public"."inspection_sessions"."semester", "public"."inspection_sessions"."lesson_duration_minutes", "public"."inspection_sessions"."inspection_status", "public"."inspection_sessions"."general_notes", "public"."inspection_sessions"."created_at", "public"."inspection_sessions"."updated_at", "public"."inspection_sessions"."created_by", "public"."inspection_sessions"."is_active", "public"."inspection_sessions"."user_id"
Processing evaluation indicators...
prisma:query DELETE FROM "public"."evaluation_records" WHERE "public"."evaluation_records"."inspection_session_id" = $1
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
Creating evaluation records: 31
prisma:query BEGIN
prisma:query INSERT INTO "public"."evaluation_records" ("id","inspection_session_id","field_id","score_value","notes","created_at","created_by") VALUES ($1,$2,$3,$4,$5,$6,$7), ($8,$9,$10,$11,$12,$13,$14), ($15,$16,$17,$18,$19,$20,$21), ($22,$23,$24,$25,$26,$27,$28), ($29,$30,$31,$32,$33,$34,$35), ($36,$37,$38,$39,$40,$41,$42), ($43,$44,$45,$46,$47,$48,$49), ($50,$51,$52,$53,$54,$55,$56), ($57,$58,$59,$60,$61,$62,$63), ($64,$65,$66,$67,$68,$69,$70), ($71,$72,$73,$74,$75,$76,$77), ($78,$79,$80,$81,$82,$83,$84), ($85,$86,$87,$88,$89,$90,$91), ($92,$93,$94,$95,$96,$97,$98), ($99,$100,$101,$102,$103,$104,$105), ($106,$107,$108,$109,$110,$111,$112), ($113,$114,$115,$116,$117,$118,$119), ($120,$121,$122,$123,$124,$125,$126), ($127,$128,$129,$130,$131,$132,$133), ($134,$135,$136,$137,$138,$139,$140), ($141,$142,$143,$144,$145,$146,$147), ($148,$149,$150,$151,$152,$153,$154), ($155,$156,$157,$158,$159,$160,$161), ($162,$163,$164,$165,$166,$167,$168), ($169,$170,$171,$172,$173,$174,$175), ($176,$177,$178,$179,$180,$181,$182), ($183,$184,$185,$186,$187,$188,$189), ($190,$191,$192,$193,$194,$195,$196), ($197,$198,$199,$200,$201,$202,$203), ($204,$205,$206,$207,$208,$209,$210), ($211,$212,$213,$214,$215,$216,$217)
prisma:query ROLLBACK
prisma:error 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].evaluationRecord.createMany()` invocation in
/Users/user/Desktop/apps/MENTOR/.next/server/chunks/[root-of-the-server]__5df3c464._.js:474:162

  471 }
  472 console.log('Creating evaluation records:', evaluationRecords.length);
  473 if (evaluationRecords.length > 0) {
→ 474     await __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].evaluationRecord.createMany(
Unique constraint failed on the fields: (`inspection_session_id`,`field_id`)
Error updating observation: Error [PrismaClientKnownRequestError]: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].evaluationRecord.createMany()` invocation in
/Users/user/Desktop/apps/MENTOR/.next/server/chunks/[root-of-the-server]__5df3c464._.js:474:162

  471 }
  472 console.log('Creating evaluation records:', evaluationRecords.length);
  473 if (evaluationRecords.length > 0) {
→ 474     await __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].evaluationRecord.createMany(
Unique constraint failed on the fields: (`inspection_session_id`,`field_id`)
    at <unknown> (app/api/observations/[id]/route.ts:184:38)
    at async PUT (app/api/observations/[id]/route.ts:184:8)
  182 |       console.log('Creating evaluation records:', evaluationRecords.length);
  183 |       if (evaluationRecords.length > 0) {
> 184 |         await prisma.evaluationRecord.createMany({
      |                                      ^
  185 |           data: evaluationRecords
  186 |         });
  187 |       } {
  code: 'P2002',
  meta: [Object],
  clientVersion: '6.13.0'
}
Error details: {
  message: '\n' +
    'Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].evaluationRecord.createMany()` invocation in\n' +
    '/Users/user/Desktop/apps/MENTOR/.next/server/chunks/[root-of-the-server]__5df3c464._.js:474:162\n' +
    '\n' +
    '  471 }\n' +
    "  472 console.log('Creating evaluation records:', evaluationRecords.length);\n" +
    '  473 if (evaluationRecords.length > 0) {\n' +
    '→ 474     await __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].evaluationRecord.createMany(\n' +
    'Unique constraint failed on the fields: (`inspection_session_id`,`field_id`)',
  stack: 'PrismaClientKnownRequestError: \n' +
    'Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].evaluationRecord.createMany()` invocation in\n' +
    '/Users/user/Desktop/apps/MENTOR/.next/server/chunks/[root-of-the-server]__5df3c464._.js:474:162\n' +
    '\n' +
    '  471 }\n' +
    "  472 console.log('Creating evaluation records:', evaluationRecords.length);\n" +
    '  473 if (evaluationRecords.length > 0) {\n' +
    '→ 474     await __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].evaluationRecord.createMany(\n' +
    'Unique constraint failed on the fields: (`inspection_session_id`,`field_id`)\n' +
    '    at ri.handleRequestError (/Users/user/Desktop/apps/MENTOR/node_modules/@prisma/client/runtime/library.js:121:7459)\n' +
    '    at ri.handleAndLogRequestError (/Users/user/Desktop/apps/MENTOR/node_modules/@prisma/client/runtime/library.js:121:6784)\n' +
    '    at ri.request (/Users/user/Desktop/apps/MENTOR/node_modules/@prisma/client/runtime/library.js:121:6491)\n' +
    '    at async l (/Users/user/Desktop/apps/MENTOR/node_modules/@prisma/client/runtime/library.js:130:9812)\n' +
    '    at async PUT (/Users/user/Desktop/apps/MENTOR/.next/server/chunks/[root-of-the-server]__5df3c464._.js:474:17)\n' +
    '    at async AppRouteRouteModule.do (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:5:38782)\n' +
    '    at async AppRouteRouteModule.handle (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:5:45984)\n' +
    '    at async responseGenerator (/Users/user/Desktop/apps/MENTOR/.next/server/chunks/node_modules_311a8fac._.js:21677:38)\n' +
    '    at async AppRouteRouteModule.handleResponse (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js:1:183725)\n' +
    '    at async handleResponse (/Users/user/Desktop/apps/MENTOR/.next/server/chunks/node_modules_311a8fac._.js:21739:32)\n' +
    '    at async handler (/Users/user/Desktop/apps/MENTOR/.next/server/chunks/node_modules_311a8fac._.js:21791:13)\n' +
    '    at async doRender (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/base-server.js:1586:34)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/base-server.js:1928:13)\n' +
    '    at async DevServer.renderPageComponent (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/base-server.js:2394:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/base-server.js:2434:32)\n' +
    '    at async DevServer.pipeImpl (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/base-server.js:1034:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/next-server.js:393:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/base-server.js:925:17)\n' +
    '    at async /Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/dev/next-dev-server.js:398:20\n' +
    '    at async Span.traceAsyncFn (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/dev/next-dev-server.js:394:24)\n' +
    '    at async invokeRender (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/lib/router-server.js:239:21)\n' +
    '    at async handleRequest (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/lib/router-server.js:436:24)\n' +
    '    at async requestHandlerImpl (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/lib/router-server.js:464:13)\n' +
    '    at async Server.requestListener (/Users/user/Desktop/apps/MENTOR/node_modules/next/dist/server/lib/start-server.js:218:13)'
}
 PUT /api/observations/1b8a1b2d-2237-47db-83f7-9b8c966253bf 500 in 1720ms
prisma:query SELECT 1
prisma:query SELECT "public"."users"."id", "public"."users"."name", "public"."users"."email", "public"."users"."role" FROM "public"."users" WHERE ("public"."users"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."inspection_sessions"."id", "public"."inspection_sessions"."province", "public"."inspection_sessions"."district", "public"."inspection_sessions"."commune", "public"."inspection_sessions"."village", "public"."inspection_sessions"."cluster", "public"."inspection_sessions"."school", "public"."inspection_sessions"."name_of_teacher", "public"."inspection_sessions"."sex", "public"."inspection_sessions"."employment_type", "public"."inspection_sessions"."session_time", "public"."inspection_sessions"."subject", "public"."inspection_sessions"."chapter", "public"."inspection_sessions"."lesson", "public"."inspection_sessions"."title", "public"."inspection_sessions"."sub_title", "public"."inspection_sessions"."inspection_date", "public"."inspection_sessions"."start_time", "public"."inspection_sessions"."end_time", "public"."inspection_sessions"."grade", "public"."inspection_sessions"."total_male", "public"."inspection_sessions"."total_female", "public"."inspection_sessions"."total_absent", "public"."inspection_sessions"."total_absent_female", "public"."inspection_sessions"."level", "public"."inspection_sessions"."inspector_name", "public"."inspection_sessions"."inspector_position", "public"."inspection_sessions"."inspector_organization", "public"."inspection_sessions"."academic_year", "public"."inspection_sessions"."semester", "public"."inspection_sessions"."lesson_duration_minutes", "public"."inspection_sessions"."inspection_status", "public"."inspection_sessions"."general_notes", "public"."inspection_sessions"."created_at", "public"."inspection_sessions"."updated_at", "public"."inspection_sessions"."created_by", "public"."inspection_sessions"."is_active", "public"."inspection_sessions"."user_id" FROM "public"."inspection_sessions" WHERE ("public"."inspection_sessions"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
PUT /api/observations/[id] - Request data keys: [ 'sessionInfo', 'evaluationData', 'studentAssessment' ]
prisma:query UPDATE "public"."inspection_sessions" SET "province" = $1, "district" = $2, "commune" = $3, "village" = $4, "school" = $5, "name_of_teacher" = $6, "sex" = $7, "employment_type" = $8, "session_time" = $9, "subject" = $10, "chapter" = $11, "lesson" = $12, "title" = $13, "sub_title" = $14, "grade" = $15, "total_male" = $16, "total_female" = $17, "total_absent" = $18, "total_absent_female" = $19, "academic_year" = $20, "semester" = $21, "lesson_duration_minutes" = $22, "general_notes" = $23, "inspection_date" = $24, "start_time" = $25, "end_time" = $26, "updated_at" = $27 WHERE ("public"."inspection_sessions"."id" = $28 AND 1=1) RETURNING "public"."inspection_sessions"."id", "public"."inspection_sessions"."province", "public"."inspection_sessions"."district", "public"."inspection_sessions"."commune", "public"."inspection_sessions"."village", "public"."inspection_sessions"."cluster", "public"."inspection_sessions"."school", "public"."inspection_sessions"."name_of_teacher", "public"."inspection_sessions"."sex", "public"."inspection_sessions"."employment_type", "public"."inspection_sessions"."session_time", "public"."inspection_sessions"."subject", "public"."inspection_sessions"."chapter", "public"."inspection_sessions"."lesson", "public"."inspection_sessions"."title", "public"."inspection_sessions"."sub_title", "public"."inspection_sessions"."inspection_date", "public"."inspection_sessions"."start_time", "public"."inspection_sessions"."end_time", "public"."inspection_sessions"."grade", "public"."inspection_sessions"."total_male", "public"."inspection_sessions"."total_female", "public"."inspection_sessions"."total_absent", "public"."inspection_sessions"."total_absent_female", "public"."inspection_sessions"."level", "public"."inspection_sessions"."inspector_name", "public"."inspection_sessions"."inspector_position", "public"."inspection_sessions"."inspector_organization", "public"."inspection_sessions"."academic_year", "public"."inspection_sessions"."semester", "public"."inspection_sessions"."lesson_duration_minutes", "public"."inspection_sessions"."inspection_status", "public"."inspection_sessions"."general_notes", "public"."inspection_sessions"."created_at", "public"."inspection_sessions"."updated_at", "public"."inspection_sessions"."created_by", "public"."inspection_sessions"."is_active", "public"."inspection_sessions"."user_id"
Processing evaluation indicators...
prisma:query DELETE FROM "public"."evaluation_records" WHERE "public"."evaluation_records"."inspection_session_id" = $1
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."master_fields"."field_id", "public"."master_fields"."indicator_sequence", "public"."master_fields"."indicator_main", "public"."master_fields"."indicator_main_en", "public"."master_fields"."indicator_sub", "public"."master_fields"."indicator_sub_en", "public"."master_fields"."evaluation_level", "public"."master_fields"."scoring_options", "public"."master_fields"."ai_context", "public"."master_fields"."is_active", "public"."master_fields"."created_at", "public"."master_fields"."updated_at" FROM "public"."master_fields" WHERE ("public"."master_fields"."indicator_sequence" = $1 AND 1=1) LIMIT $2 OFFSET $3
Creating evaluation records: 22
prisma:query BEGIN
prisma:query INSERT INTO "public"."evaluation_records" ("id","inspection_session_id","field_id","score_value","notes","created_at","created_by") VALUES ($1,$2,$3,$4,$5,$6,$7), ($8,$9,$10,$11,$12,$13,$14), ($15,$16,$17,$18,$19,$20,$21), ($22,$23,$24,$25,$26,$27,$28), ($29,$30,$31,$32,$33,$34,$35), ($36,$37,$38,$39,$40,$41,$42), ($43,$44,$45,$46,$47,$48,$49), ($50,$51,$52,$53,$54,$55,$56), ($57,$58,$59,$60,$61,$62,$63), ($64,$65,$66,$67,$68,$69,$70), ($71,$72,$73,$74,$75,$76,$77), ($78,$79,$80,$81,$82,$83,$84), ($85,$86,$87,$88,$89,$90,$91), ($92,$93,$94,$95,$96,$97,$98), ($99,$100,$101,$102,$103,$104,$105), ($106,$107,$108,$109,$110,$111,$112), ($113,$114,$115,$116,$117,$118,$119), ($120,$121,$122,$123,$124,$125,$126), ($127,$128,$129,$130,$131,$132,$133), ($134,$135,$136,$137,$138,$139,$140), ($141,$142,$143,$144,$145,$146,$147), ($148,$149,$150,$151,$152,$153,$154)
prisma:query COMMIT
prisma:query DELETE FROM "public"."student_assessment_sessions" WHERE "public"."student_assessment_sessions"."inspection_session_id" = $1
prisma:query INSERT INTO "public"."student_assessment_sessions" ("assessment_id","inspection_session_id","assessment_type","assessment_date","created_at","updated_at","is_active") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_assessment_sessions"."assessment_id", "public"."student_assessment_sessions"."inspection_session_id", "public"."student_assessment_sessions"."assessment_type", "public"."student_assessment_sessions"."assessment_date", "public"."student_assessment_sessions"."notes", "public"."student_assessment_sessions"."created_at", "public"."student_assessment_sessions"."updated_at", "public"."student_assessment_sessions"."is_active"
prisma:query INSERT INTO "public"."assessment_subjects" ("subject_id","assessment_id","subject_name_km","subject_name_en","subject_order","max_score","min_score","created_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING "public"."assessment_subjects"."subject_id", "public"."assessment_subjects"."assessment_id", "public"."assessment_subjects"."subject_name_km", "public"."assessment_subjects"."subject_name_en", "public"."assessment_subjects"."subject_order", "public"."assessment_subjects"."max_score", "public"."assessment_subjects"."min_score", "public"."assessment_subjects"."created_at"
prisma:query INSERT INTO "public"."assessment_subjects" ("subject_id","assessment_id","subject_name_km","subject_name_en","subject_order","max_score","min_score","created_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING "public"."assessment_subjects"."subject_id", "public"."assessment_subjects"."assessment_id", "public"."assessment_subjects"."subject_name_km", "public"."assessment_subjects"."subject_name_en", "public"."assessment_subjects"."subject_order", "public"."assessment_subjects"."max_score", "public"."assessment_subjects"."min_score", "public"."assessment_subjects"."created_at"
prisma:query INSERT INTO "public"."assessment_subjects" ("subject_id","assessment_id","subject_name_km","subject_name_en","subject_order","max_score","min_score","created_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING "public"."assessment_subjects"."subject_id", "public"."assessment_subjects"."assessment_id", "public"."assessment_subjects"."subject_name_km", "public"."assessment_subjects"."subject_name_en", "public"."assessment_subjects"."subject_order", "public"."assessment_subjects"."max_score", "public"."assessment_subjects"."min_score", "public"."assessment_subjects"."created_at"
prisma:query INSERT INTO "public"."assessment_students" ("student_id","assessment_id","student_identifier","student_order","student_name","student_gender","created_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."assessment_students"."student_id", "public"."assessment_students"."assessment_id", "public"."assessment_students"."student_identifier", "public"."assessment_students"."student_order", "public"."assessment_students"."student_name", "public"."assessment_students"."student_gender", "public"."assessment_students"."created_at"
prisma:query INSERT INTO "public"."assessment_students" ("student_id","assessment_id","student_identifier","student_order","student_name","student_gender","created_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."assessment_students"."student_id", "public"."assessment_students"."assessment_id", "public"."assessment_students"."student_identifier", "public"."assessment_students"."student_order", "public"."assessment_students"."student_name", "public"."assessment_students"."student_gender", "public"."assessment_students"."created_at"
prisma:query INSERT INTO "public"."assessment_students" ("student_id","assessment_id","student_identifier","student_order","student_name","student_gender","created_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."assessment_students"."student_id", "public"."assessment_students"."assessment_id", "public"."assessment_students"."student_identifier", "public"."assessment_students"."student_order", "public"."assessment_students"."student_name", "public"."assessment_students"."student_gender", "public"."assessment_students"."created_at"
prisma:query INSERT INTO "public"."assessment_students" ("student_id","assessment_id","student_identifier","student_order","student_name","student_gender","created_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."assessment_students"."student_id", "public"."assessment_students"."assessment_id", "public"."assessment_students"."student_identifier", "public"."assessment_students"."student_order", "public"."assessment_students"."student_name", "public"."assessment_students"."student_gender", "public"."assessment_students"."created_at"
prisma:query INSERT INTO "public"."assessment_students" ("student_id","assessment_id","student_identifier","student_order","student_name","student_gender","created_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."assessment_students"."student_id", "public"."assessment_students"."assessment_id", "public"."assessment_students"."student_identifier", "public"."assessment_students"."student_order", "public"."assessment_students"."student_name", "public"."assessment_students"."student_gender", "public"."assessment_students"."created_at"
prisma:query SELECT "public"."assessment_subjects"."subject_id", "public"."assessment_subjects"."assessment_id", "public"."assessment_subjects"."subject_name_km", "public"."assessment_subjects"."subject_name_en", "public"."assessment_subjects"."subject_order", "public"."assessment_subjects"."max_score", "public"."assessment_subjects"."min_score", "public"."assessment_subjects"."created_at" FROM "public"."assessment_subjects" WHERE "public"."assessment_subjects"."assessment_id" = $1 ORDER BY "public"."assessment_subjects"."subject_order" ASC OFFSET $2
prisma:query SELECT "public"."assessment_students"."student_id", "public"."assessment_students"."assessment_id", "public"."assessment_students"."student_identifier", "public"."assessment_students"."student_order", "public"."assessment_students"."student_name", "public"."assessment_students"."student_gender", "public"."assessment_students"."created_at" FROM "public"."assessment_students" WHERE "public"."assessment_students"."assessment_id" = $1 ORDER BY "public"."assessment_students"."student_order" ASC OFFSET $2
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
prisma:query INSERT INTO "public"."student_scores" ("score_id","assessment_id","subject_id","student_id","score","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7) RETURNING "public"."student_scores"."score_id", "public"."student_scores"."assessment_id", "public"."student_scores"."subject_id", "public"."student_scores"."student_id", "public"."student_scores"."score", "public"."student_scores"."score_text", "public"."student_scores"."notes", "public"."student_scores"."created_at", "public"."student_scores"."updated_at"
 PUT /api/observations/1b8a1b2d-2237-47db-83f7-9b8c966253bf 200 in 666ms
[?25h
